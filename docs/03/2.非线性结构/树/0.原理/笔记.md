# 树
## 树产生背景
* 树综合了数组、链表、哈希表的优点，同时也弥补了它们存在的缺点
* 二叉树中数据都是有序的，查找效率高；空间利用率高；并且可以快速获取最大值和最小值等。

## 树结构
* 树（Tree）:由 n（n ≥ 0）个节点构成的有限集合。当 n = 0 时，称为空树。

### 非空树性质：
<img width = 560px src = "/docs/00.img/树笔记/树笔记1.png"></img>

* 数中有一个称为根（Root）的特殊节点，用` r `表示；
* 其余节点可分为 m（m > 0）个互不相交的有限集合 T1，T2，...，Tm，其中每个集合本身又是一棵树，称为原来树的子树（SubTree）

### 树术语：
1. 节点的度（Degree）：节点的子树个数，比如节点B的度为2；
2. 树的度：树的所有节点中最大的度数，如上图树的度为2；
3. 叶节点（Leaf）：度为0的节点（也称为叶子节点），如上图的H，I等；
4. 父节点（Parent）：度不为0的节点称为父节点，如上图节点B是节点D和E的父节点；
5. 子节点（Child）：若B是D的父节点，那么D就是B的子节点；
6. 兄弟节点（Sibling）：具有同一父节点的各节点彼此是兄弟节点，比如上图的B和C，D和E互为兄弟节点；
7. 路径和路径长度：路径指的是一个节点到另一节点的通道，路径所包含边的个数称为路径长度，比如A->H的路径长度为3；
8. 节点的层次（Level）：规定根节点在1层，其他任一节点的层数是其父节点的层数加1。如B和C节点的层次为2；
9. 树的深度（Depth）：树种所有节点中的最大层次是这棵树的深度，如上图树的深度为4；

## 树表示方法
### 最普通的表示方法：
<img width = 660px src = "/docs/00.img/树笔记/树笔记2.png"></img>

每个父节点子节点数量的不同，每一个父节点需要的引用数量也不同

> 缺点：无法确定某一结点的引用数

### 儿子-兄弟表示法：
<img width = 760px src = "/docs/00.img/树笔记/树笔记3.png"></img>

> 优点：在于每一个节点中引用的数量都是确定的

顺时针旋转45°之后，成为了一棵二叉树：

<img width = 560px src = "/docs/00.img/树笔记/树笔记4.png"></img>

> 结论：任何树都可以通过二叉树进行模拟

## 二叉树
### 概念：树中的每一个节点最多只能有两个子节点
### 组成：
* 二叉树可以为空，也就是没有节点；
* 若二叉树不为空，则它由根节点和称为其左子树TL和右子树TR的两个不相交的二叉树组成；

### 二叉树的五种形态：
<img width = 660px src = "/docs/00.img/树笔记/树笔记5.png"></img>

a.空的二叉树<br>
b.只有一个节点的二叉树<br>
c.只有左子树TL的二叉树<br>
d.只有右子树TR的二叉树<br>
e.有左右两个子树的二叉树<br>

### 二叉树的特性：
1. 一个二叉树的第`i`层的最大节点树为：2<sup>(i-1)</sup>，i >= 1；
* 深度为k的二叉树的最大节点总数为：2<sup>k</sup> - 1 ，k >= 1，
* 对任何非空二叉树，若 n<sub>0</sub> 表示叶子节点的个数，n<sub>2</sub> 表示度为2的非叶子节点个数，那么两者满足关系：n<sub>0</sub> = n<sub>2</sub> + 1；

<img width = 560px src = "/docs/00.img/树笔记/树笔记6.png"></img>

如上图所示：H，E，I，J，G为叶子节点，总数为5；A，B，C，F为度为2的非叶子节点，总数为4；满足 n<sub>0</sub> = n<sub>2</sub> + 1的规律。

### 特殊的二叉树
#### 完美二叉树
> 完美二叉树（Perfect Binary Tree）：也称为满二叉树（Full Binary Tree），除了最下一层的叶子节点外，每层节点都有2个子节点，这就构成了完美二叉树

#### 完全二叉树
> 完全二叉树（Complete Binary Tree）:相比于完美二叉树，最后一层的叶子节点从左向右是连续存在，只缺失右侧若干叶子节点。



### 二叉树的数据存储
<!-- tabs:start -->
#### **使用数组**

* 完全二叉树：按从上到下，从左到右的方式存储数据。

<img width = 500px src = "/docs/00.img/树笔记/树笔记7.png"></img>

|节点| A | B | C | D | E | F | G | H | I |
|--|--|--|--|--|--|--|--|--|--|
|序号| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |

> 使用数组存储时，取数据十分方便：左子节点的序号等于父节点序号 * 2，右子节点的序号等于父节点序号 * 2 + 1 。

* 非完全二叉树：非完全二叉树需要转换成完全二叉树才能按照上面的方案存储，这样会浪费很大的存储空间。

<img width = 860px src = "/docs/00.img/树笔记/树笔记8.png"></img>

|节点|	A |	B |	C |	^ |	^ |	F |^|^|^|^|^|^| M |
|--|--|--|--|--|--|--|--|--|--|--|--|--|--|
|序号|1|2|3|4|5|6|7|8|9|10|11|12|13|

#### **使用链表**

二叉树最常见的存储方式为链表。

<img width = 960px src = "/docs/00.img/树笔记/树笔记9.png"></img>

> 每一个节点封装成一个Node，Node中包含存储的数据、左节点的引用和右节点的引用。
<!-- tabs:end -->


### 二叉搜索树
二叉搜索树（BST，Binary Search Tree），也称为二叉排序树和二叉查找树。

#### 非空二叉搜索树性质
* 非空左子树的所有键值小于其根节点的键值。比如三中节点6的所有非空左子树的键值都小于6；
* 非空右子树的所有键值大于其根节点的键值；比如三中节点6的所有非空右子树的键值都大于6；
* 左、右子树本身也都是二叉搜索树

<img width = 860px src = "/docs/00.img/树笔记/树笔记10.png"></img>

> 二叉搜索树较小的值总是保存在左节点上，相对较大的值总是保存在右节点上，查询效率非常高

##### 平衡二叉搜索树
平衡二叉搜索树：又被称为AVL（Adelson-Velsky and Landis）树

> 性质：它是一棵空树或它的左右两个子树的高度差的绝对值不超过1，并且左右两个子树都是一棵平衡二叉树。

<img width = 860px src = "/docs/00.img/树笔记/树笔记11.png"></img>



